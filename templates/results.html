{% extends "base.html" %}

{% block content %}
<style>
    html, body {
        height: 100%;
        margin: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        padding-top: 60px;
    }
    .center-container {
        text-align: center;
    }
    .table {
        margin-left: auto;
        margin-right: auto;
    }
</style>
    <br><br><br><br>
        <div class="center-container">
        {% set first_bank_services = sorted_banks_and_scores_services[0] %}
        {% set first_bank_overall = sorted_banks_and_scores[0] %}
            <p>Looking at the results we can see that for the services you want <strong>{{ first_bank_services[0].bank_name }}</strong> is
                the best option for you and the service you desire with a <strong>{{ "%.2f"|format(first_bank_services[1]) }}</strong>
            percentage match. However, when looking at the results we can see that although
                <strong>{{ first_bank_overall[0].bank_name }}</strong> isn't top rated for the service you desire, it may be a better option
                for you as it gave a <strong>{{ "%.2f"|format(first_bank_overall[1]) }}</strong> match percentage.</p>

        <p>We recommend taking a look at both of these banks following the hyperlinks provided by clicking on the bank
            names in the tables. When looking at the banks, refer back to the "How to Choose a Bank" guide so you can
            make the best decision.</p>

        <h2>Top matching services</h2>
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>Bank Name</th>
                    <th>Overall Reputation</th>
                    <th>Service</th>
                    <th>Overview</th>
                    <th>Match Percentage</th>
                </tr>
            </thead>
            <tbody>
                {% for bank, match_percentage in sorted_banks_and_scores_services[:3] %}
                    <tr>
                        <td><a href="{{ bank.hyperlink }}">{{ bank.bank_name }}</a></td>
                        <td>{{ bank.overall_service }}</td>
                        <td>{{ bank.service }}</td>
                        <td>{{ bank.overview}}</td>
                        <td>{{ "%.2f"|format(match_percentage) }}%</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    <br><br><br><br><br><br>
    <div class="center-container">
        <h2>Top 3 Matching Banks</h2>
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>Bank Name</th>
                    <th>Overall Reputation</th>
                    <th>Match Percentage</th>
                </tr>
            </thead>
            <tbody>
                {% for bank, match_percentage in sorted_banks_and_scores[:3] %}
                    <tr>
                        <td><a href="{{ bank.hyperlink }}">{{ bank.bank_name }}</a></td>
                        <td>{{ bank.overall_service }}</td>
                        <td>{{ "%.2f"|format(match_percentage) }}%</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
{% endblock %}
